(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{3454:function(a,b,c){"use strict";var d,e;a.exports=(null===(d=c.g.process)|| void 0===d?void 0:d.env)&&"object"==typeof(null===(e=c.g.process)|| void 0===e?void 0:e.env)?c.g.process:c(7663)},7663:function(a){!function(){var b={162:function(a){var b,c,d,e=a.exports={};function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,(function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}})(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e=d(162);a.exports=e}()},3403:function(a,b,c){"use strict";c.d(b,{mh:function(){return db},Hw:function(){return bb},ZP:function(){return Sa}});var d=c(7294);const e=d.createContext(null);function f(a){return{longitude:a.center.lng,latitude:a.center.lat,zoom:a.zoom,pitch:a.pitch,bearing:a.bearing,padding:a.padding}}function g(a,b){const c=b.viewState||b;let d=!1;if("longitude"in c&&"latitude"in c){const e=a.center;a.center=new e.constructor(c.longitude,c.latitude),d=d||e!==a.center}if("zoom"in c){const f=a.zoom;a.zoom=c.zoom,d=d||f!==a.zoom}if("bearing"in c){const g=a.bearing;a.bearing=c.bearing,d=d||g!==a.bearing}if("pitch"in c){const h=a.pitch;a.pitch=c.pitch,d=d||h!==a.pitch}return c.padding&&!a.isPaddingEqual(c.padding)&&(d=!0,a.padding=c.padding),d}const h=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function i(a){if(!a)return null;if("string"==typeof a)return a;if("toJS"in a&&(a=a.toJS()),!a.layers)return a;const b={};for(const c of a.layers)b[c.id]=c;const d=a.layers.map(a=>{const c=b[a.ref];let d=null;if("interactive"in a&&delete(d={...a}).interactive,c)for(const e of(delete(d=d||{...a}).ref,h))e in c&&(d[e]=c[e]);return d||a});return{...a,layers:d}}function j(a,b){if(a===b)return!0;if(!a||!b)return!1;if(Array.isArray(a)){if(!Array.isArray(b)||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(!j(a[c],b[c]))return!1;return!0}if(Array.isArray(b))return!1;if("object"==typeof a&&"object"==typeof b){const d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(const f of d){if(!b.hasOwnProperty(f))return!1;if(!j(a[f],b[f]))return!1}return!0}return!1}var k=c(3454);const l={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},m={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},n={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},o=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],p=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class q{constructor(r,s,t){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=a=>{const b=this.props[n[a.type]];b&&b(a)},this._onPointerEvent=a=>{("mousemove"===a.type||"mouseout"===a.type)&&this._updateHover(a);const b=this.props[l[a.type]];if(b){if(this.props.interactiveLayerIds&&"mouseover"!==a.type&&"mouseout"!==a.type){const c=this._hoveredFeatures||this._map.queryRenderedFeatures(a.point,{layers:this.props.interactiveLayerIds});if(!c.length)return;a.features=c}b(a),delete a.features}},this._onCameraEvent=a=>{if(!this._internalUpdate){const b=this.props[m[a.type]];b&&b(a)}a.type in this._deferredEvents&&(this._deferredEvents[a.type]=!1)},this._MapClass=r,this.props=s,this._initialize(t)}get map(){return this._map}get transform(){return this._renderTransform}setProps(u){const v=this.props;this.props=u;const w=this._updateSettings(u,v);w&&(this._renderTransform=this._map.transform.clone());const x=this._updateSize(u),y=this._updateViewState(u,!0);this._updateStyle(u,v),this._updateStyleComponents(u,v),this._updateHandlers(u,v),(w||x||y&&!this._map.isMoving())&&this.redraw()}static reuse(z,A){const B=q.savedMaps.pop();if(!B)return null;const C=B.map,D=C.getContainer();for(A.className=D.className;D.childNodes.length>0;)A.appendChild(D.childNodes[0]);return C._container=A,z.initialViewState&&B._updateViewState(z.initialViewState,!1),C.resize(),B.setProps({...z,styleDiffing:!1}),C.isStyleLoaded()?C.fire("load"):C.once("styledata",()=>C.fire("load")),B}_initialize(E){const{props:F}=this,G={...F,...F.initialViewState,accessToken:F.mapboxAccessToken||Ja()||null,container:E,style:i(F.mapStyle)},H=G.initialViewState||G.viewState||G;if(Object.assign(G,{center:[H.longitude||0,H.latitude||0],zoom:H.zoom||0,pitch:H.pitch||0,bearing:H.bearing||0}),F.gl){const I=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=I,F.gl)}const J=new this._MapClass(G);H.padding&&J.setPadding(H.padding),F.cursor&&(J.getCanvas().style.cursor=F.cursor),this._renderTransform=J.transform.clone();const K=J._render;J._render=a=>{this._inRender=!0,K.call(J,a),this._inRender=!1};const L=J._renderTaskQueue.run;J._renderTaskQueue.run=a=>{L.call(J._renderTaskQueue,a),this._onBeforeRepaint()},J.on("render",()=>this._onAfterRepaint());const M=J.fire;for(const N in J.fire=this._fireEvent.bind(this,M),J.on("resize",()=>{this._renderTransform.resize(J.transform.width,J.transform.height)}),J.on("styledata",()=>this._updateStyleComponents(this.props,{})),J.on("sourcedata",()=>this._updateStyleComponents(this.props,{})),l)J.on(N,this._onPointerEvent);for(const O in m)J.on(O,this._onCameraEvent);for(const P in n)J.on(P,this._onEvent);this._map=J}recycle(){q.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const Q=this._map;!this._inRender&&Q.style&&(Q._frame&&(Q._frame.cancel(),Q._frame=null),Q._render())}_updateSize(R){const{viewState:S}=R;if(S){const T=this._map;if(S.width!==T.transform.width||S.height!==T.transform.height)return T.resize(),!0}return!1}_updateViewState(U,V){if(this._internalUpdate)return!1;const W=this._map,X=this._renderTransform,{zoom:Y,pitch:Z,bearing:$}=X,_=g(X,{...f(W.transform),...U});if(_&&V){const aa=this._deferredEvents;aa.move=!0,aa.zoom||(aa.zoom=Y!==X.zoom),aa.rotate||(aa.rotate=$!==X.bearing),aa.pitch||(aa.pitch=Z!==X.pitch)}return W.isMoving()||g(W.transform,U),_}_updateSettings(ba,ca){const da=this._map;let ea=!1;for(const fa of o)fa in ba&&!j(ba[fa],ca[fa])&&(ea=!0,da[`set${fa[0].toUpperCase()}${fa.slice(1)}`](ba[fa]));return ea}_updateStyle(ga,ha){if(ga.cursor!==ha.cursor&&(this._map.getCanvas().style.cursor=ga.cursor),ga.mapStyle!==ha.mapStyle){const ia={diff:ga.styleDiffing};return"localIdeographFontFamily"in ga&&(ia.localIdeographFontFamily=ga.localIdeographFontFamily),this._map.setStyle(i(ga.mapStyle),ia),!0}return!1}_updateStyleComponents(ja,ka){const la=this._map;let ma=!1;return la.style.loaded()&&("light"in ja&&!j(ja.light,ka.light)&&(ma=!0,la.setLight(ja.light)),"fog"in ja&&!j(ja.fog,ka.fog)&&(ma=!0,la.setFog(ja.fog)),"terrain"in ja&&!j(ja.terrain,ka.terrain)&&(!ja.terrain||la.getSource(ja.terrain.source))&&(ma=!0,la.setTerrain(ja.terrain))),ma}_updateHandlers(na,oa){const pa=this._map;let qa=!1;for(const ra of p){const sa=na[ra];j(sa,oa[ra])||(qa=!0,sa?pa[ra].enable(sa):pa[ra].disable())}return qa}_updateHover(ta){const{props:ua}=this,va=ua.interactiveLayerIds&&(ua.onMouseMove||ua.onMouseEnter||ua.onMouseLeave);if(va){const wa=ta.type,xa=this._hoveredFeatures?.length>0;let ya;if("mousemove"===wa)try{ya=this._map.queryRenderedFeatures(ta.point,{layers:ua.interactiveLayerIds})}catch{ya=[]}else ya=[];const za=ya.length>0;!za&&xa&&(ta.type="mouseleave",this._onPointerEvent(ta)),this._hoveredFeatures=ya,za&&!xa&&(ta.type="mouseenter",this._onPointerEvent(ta)),ta.type=wa}else this._hoveredFeatures=null}_fireEvent(Aa,Ba,Ca){const Da=this._map,Ea=Da.transform,Fa="string"==typeof Ba?Ba:Ba.type;return("move"===Fa&&this._updateViewState(this.props,!1),Fa in m&&("object"==typeof Ba&&(Ba.viewState=f(Ea)),this._map.isMoving()))?(Da.transform=this._renderTransform,Aa.call(Da,Ba,Ca),Da.transform=Ea,Da):(Aa.call(Da,Ba,Ca),Da)}_onBeforeRepaint(){const Ga=this._map;for(const Ha in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[Ha]&&Ga.fire(Ha);this._internalUpdate=!1;const Ia=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=Ia}}}function Ja(){let a=null;if("undefined"!=typeof location){const b=/access_token=([^&\/]*)/.exec(location.search);a=b&&b[1]}try{a=a||k.env.MapboxAccessToken}catch{}try{a=a||k.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return a}q.savedMaps=[];const Ka=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function La(a,b){if(!a)return null;const c=a.map,d={getMap:()=>c,getCenter:()=>a.transform.center,getZoom:()=>a.transform.zoom,getBearing:()=>a.transform.bearing,getPitch:()=>a.transform.pitch,getPadding:()=>a.transform.padding,getBounds:()=>a.transform.getBounds(),project:c=>a.transform.locationPoint(b.LngLat.convert(c)),unproject:c=>a.transform.pointLocation(b.Point.convert(c))};for(const e of Ma(c))e in d||Ka.includes(e)||(d[e]=c[e].bind(c));return d}function Ma(a){const b=new Set();let c=a;for(;c;){for(const d of Object.getOwnPropertyNames(c))"_"!==d[0]&&"function"==typeof a[d]&&"fire"!==d&&"setEventedParent"!==d&&b.add(d);c=Object.getPrototypeOf(c)}return Array.from(b)}const Na="undefined"!=typeof document?d.useLayoutEffect:d.useEffect;var Oa=Na;const Pa=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],Qa=d.createContext(null),Ra=(0,d.forwardRef)((a,b)=>{const f=(0,d.useContext)(e),[g,h]=(0,d.useState)(null),i=(0,d.useRef)(),{current:j}=(0,d.useRef)({mapLib:null,map:null});(0,d.useEffect)(()=>{const b=a.mapLib;let d=!0,e;return Promise.resolve(b||c.e(634).then(c.t.bind(c,6158,23))).then(b=>{if(d){if(b.Map||(b=b.default),!b||!b.Map)throw new Error("Invalid mapLib");if(b.supported(a))(function(a,b){for(const c of Pa)c in b&&(a[c]=b[c]);b.RTLTextPlugin&&a.getRTLTextPluginStatus&&"unavailable"===a.getRTLTextPluginStatus()&&a.setRTLTextPlugin(b.RTLTextPlugin,a=>{a&&console.error(a)},!1)})(b,a),a.reuseMaps&&(e=q.reuse(a,i.current)),e||(e=new q(b.Map,a,i.current)),j.map=e.map,j.mapLib=b,h(e),f?.onMapMount(La(e,b),a.id);else throw new Error("Map is not supported by this browser")}}).catch(b=>{a.onError({type:"error",target:null,originalEvent:null,error:b})}),()=>{d=!1,e&&(f?.onMapUnmount(a.id),a.reuseMaps?e.recycle():e.destroy())}},[]),Oa(()=>{g&&g.setProps(a)}),(0,d.useImperativeHandle)(b,()=>La(g,j.mapLib),[g]);const k=(0,d.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...a.style}),[a.style]);return d.createElement("div",{id:a.id,ref:i,style:k},g&&d.createElement(Qa.Provider,{value:j},a.children))});Ra.displayName="Map",Ra.defaultProps={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:a=>console.error(a.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"};var Sa=Ra,Ta=c(3935);const Ua=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Va(a,b){if(!a||!b)return;const c=a.style;for(const d in b){const e=b[d];Number.isFinite(e)&&!Ua.test(d)?c[d]=`${e}px`:c[d]=e}}function Wa(a){const{map:b,mapLib:c}=(0,d.useContext)(Qa),e=(0,d.useRef)({props:a});e.current.props=a;const f=(0,d.useMemo)(()=>{let b=!1;d.Children.forEach(a.children,a=>{a&&(b=!0)});const g={...a,element:b?document.createElement("div"):null},h=new c.Marker(g).setLngLat([a.longitude,a.latitude]);return h.getElement().addEventListener("click",a=>{e.current.props.onClick?.({type:"click",target:h,originalEvent:a})}),h.on("dragstart",a=>{const b=a;b.lngLat=f.getLngLat(),e.current.props.onDragStart?.(b)}),h.on("drag",a=>{const b=a;b.lngLat=f.getLngLat(),e.current.props.onDrag?.(b)}),h.on("dragend",a=>{const b=a;b.lngLat=f.getLngLat(),e.current.props.onDragEnd?.(b)}),h},[]);return(0,d.useEffect)(()=>(f.addTo(b),()=>{f.remove()}),[]),(0,d.useEffect)(()=>{Va(f.getElement(),a.style)},[a.style]),(f.getLngLat().lng!==a.longitude||f.getLngLat().lat!==a.latitude)&&f.setLngLat([a.longitude,a.latitude]),a.offset&&!function(a,b){const c=Array.isArray(a)?a[0]:a?a.x:0,d=Array.isArray(a)?a[1]:a?a.y:0,e=Array.isArray(b)?b[0]:b?b.x:0,f=Array.isArray(b)?b[1]:b?b.y:0;return c===e&&d===f}(f.getOffset(),a.offset)&&f.setOffset(a.offset),f.isDraggable()!==a.draggable&&f.setDraggable(a.draggable),f.getRotation()!==a.rotation&&f.setRotation(a.rotation),f.getRotationAlignment()!==a.rotationAlignment&&f.setRotationAlignment(a.rotationAlignment),f.getPitchAlignment()!==a.pitchAlignment&&f.setPitchAlignment(a.pitchAlignment),f.getPopup()!==a.popup&&f.setPopup(a.popup),(0,Ta.createPortal)(a.children,f.getElement())}function Xa(a){return new Set(a?a.trim().split(/\s+/):[])}function Ya(a,b,c){const e=(0,d.useContext)(Qa),f=(0,d.useMemo)(()=>a(e),[]);return(0,d.useEffect)(()=>{const{map:a}=e;return a.hasControl(f)||a.addControl(f,(c||b)?.position),()=>{"function"==typeof b&&b(e),a.hasControl(f)&&a.removeControl(f)}},[]),f}Wa.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"},d.memo(Wa),d.memo(function(a){const{map:b,mapLib:c}=(0,d.useContext)(Qa),e=(0,d.useMemo)(()=>document.createElement("div"),[]),f=(0,d.useRef)({props:a});f.current.props=a;const g=(0,d.useMemo)(()=>{const b=new c.Popup({...a}).setLngLat([a.longitude,a.latitude]);return b.on("open",a=>{f.current.props.onOpen?.(a)}),b.on("close",a=>{f.current.props.onClose?.(a)}),b},[]);if((0,d.useEffect)(()=>(g.setDOMContent(e).addTo(b),()=>{g.isOpen()&&g.remove()}),[]),(0,d.useEffect)(()=>{Va(g.getElement(),a.style)},[a.style]),g.isOpen()&&((g.getLngLat().lng!==a.longitude||g.getLngLat().lat!==a.latitude)&&g.setLngLat([a.longitude,a.latitude]),a.offset&&!j(g.options.offset,a.offset)&&g.setOffset(a.offset),(g.options.anchor!==a.anchor||g.options.maxWidth!==a.maxWidth)&&(g.options.anchor=a.anchor,g.setMaxWidth(a.maxWidth)),g.options.className!==a.className)){const h=Xa(g.options.className),i=Xa(a.className);for(const k of h)i.has(k)||g.removeClassName(k);for(const l of i)h.has(l)||g.addClassName(l);g.options.className=a.className}return(0,Ta.createPortal)(a.children,e)}),d.memo(function(a){const b=Ya(({mapLib:b})=>new b.AttributionControl(a),{position:a.position});return(0,d.useEffect)(()=>{Va(b._container,a.style)},[a.style]),null}),d.memo(function(a){const b=Ya(({mapLib:b})=>new b.FullscreenControl({container:a.containerId&&document.getElementById(a.containerId)}),{position:a.position});return(0,d.useEffect)(()=>{Va(b._controlContainer,a.style)},[a.style]),null});const Za=(0,d.forwardRef)((a,b)=>{const c=(0,d.useRef)({props:a}),e=Ya(({mapLib:b})=>{const d=new b.GeolocateControl(a);return d.on("geolocate",a=>{c.current.props.onGeolocate?.(a)}),d.on("error",a=>{c.current.props.onError?.(a)}),d.on("outofmaxbounds",a=>{c.current.props.onOutOfMaxBounds?.(a)}),d.on("trackuserlocationstart",a=>{c.current.props.onTrackUserLocationStart?.(a)}),d.on("trackuserlocationend",a=>{c.current.props.onTrackUserLocationEnd?.(a)}),d},{position:a.position});return c.current.props=a,(0,d.useImperativeHandle)(b,()=>({trigger:()=>e.trigger()}),[]),(0,d.useEffect)(()=>{Va(e._container,a.style)},[a.style]),null});function $a(a){const b=Ya(({mapLib:b})=>new b.ScaleControl(a),{position:a.position});return(b.options.unit!==a.unit||b.options.maxWidth!==a.maxWidth)&&(b.options.maxWidth=a.maxWidth,b.setUnit(a.unit)),(0,d.useEffect)(()=>{Va(b._container,a.style)},[a.style]),null}function _a(a,b){if(!a)throw new Error(b)}Za.displayName="GeolocateControl",d.memo(Za),d.memo(function(a){const b=Ya(({mapLib:b})=>new b.NavigationControl(a),{position:a.position});return(0,d.useEffect)(()=>{Va(b._container,a.style)},[a.style]),null}),$a.defaultProps={unit:"metric",maxWidth:100},d.memo($a);let ab=0;var bb=function(a){const{map:b}=(0,d.useContext)(Qa),c=(0,d.useRef)(a),[,e]=(0,d.useState)(0),f=(0,d.useMemo)(()=>a.id||`jsx-source-${ab++}`,[]);(0,d.useEffect)(()=>{if(b){const a=()=>e(a=>a+1);return b.on("styledata",a),a(),()=>{b.off("styledata",a),setTimeout(()=>{b.style&&b.style._loaded&&b.getSource(f)&&b.removeSource(f)},0)}}},[b]);let g=b&&b.style&&b.getSource(f);return g?(function(a,b,c){_a(b.id===c.id,"source id changed"),_a(b.type===c.type,"source type changed");let d="",e=0;for(const f in b)"children"!==f&&"id"!==f&&!j(c[f],b[f])&&(d=f,e++);if(!e)return;const g=b.type;if("geojson"===g)a.setData(b.data);else if("image"===g)a.updateImage({url:b.url,coordinates:b.coordinates});else if(("canvas"===g||"video"===g)&&1===e&&"coordinates"===d)a.setCoordinates(b.coordinates);else if("vector"===g&&"setUrl"in a)switch(d){case"url":a.setUrl(b.url);break;case"tiles":a.setTiles(b.tiles);break;default:}else console.warn(`Unable to update <Source> prop: ${d}`)})(g,a,c.current):g=(function(a,b,c){if(a.style&&a.style._loaded){const d={...c};return delete d.id,delete d.children,a.addSource(b,d),a.getSource(b)}return null})(b,f,a),c.current=a,g&&d.Children.map(a.children,a=>a&&(0,d.cloneElement)(a,{source:f}))||null};let cb=0;var db=function(a){const{map:b}=(0,d.useContext)(Qa),c=(0,d.useRef)(a),[,e]=(0,d.useState)(0),f=(0,d.useMemo)(()=>a.id||`jsx-layer-${cb++}`,[]);(0,d.useEffect)(()=>{if(b){const a=()=>e(a=>a+1);return b.on("styledata",a),a(),()=>{b.off("styledata",a),b.style&&b.style._loaded&&b.removeLayer(f)}}},[b]);const g=b&&b.style&&b.getLayer(f);if(g)try{!function(a,b,c,d){if(_a(c.id===d.id,"layer id changed"),_a(c.type===d.type,"layer type changed"),"custom"===c.type||"custom"===d.type)return;const{layout:e={},paint:f={},filter:g,minzoom:h,maxzoom:i,beforeId:k}=c;if(k!==d.beforeId&&a.moveLayer(b,k),e!==d.layout){const l=d.layout||{};for(const m in e)j(e[m],l[m])||a.setLayoutProperty(b,m,e[m]);for(const n in l)e.hasOwnProperty(n)||a.setLayoutProperty(b,n,void 0)}if(f!==d.paint){const o=d.paint||{};for(const p in f)j(f[p],o[p])||a.setPaintProperty(b,p,f[p]);for(const q in o)f.hasOwnProperty(q)||a.setPaintProperty(b,q,void 0)}j(g,d.filter)||a.setFilter(b,g),(h!==d.minzoom||i!==d.maxzoom)&&a.setLayerZoomRange(b,h,i)}(b,f,a,c.current)}catch(h){console.warn(h)}else!function(a,b,c){if(a.style&&a.style._loaded&&a.getSource(c.source)){const d={...c,id:b};delete d.beforeId,a.addLayer(d,c.beforeId)}}(b,f,a);return c.current=a,null}}}])